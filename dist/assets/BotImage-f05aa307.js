import{a as k,an as B,r as h,C,b as v,d as a,f as M,g as l,e as t,n as f,F as T,h as A,M as g,L as u,z as D,K as S,x as j,X as I,a1 as K,o as s,H as _}from"./index-ea4656f6.js";const N="/images/create-image-ai.jpg",U={class:"relative flex flex-column h-full"},V={class:"w-full flex flex-column h-full"},z={key:1,class:"flex justify-content-center align-items-center text-center line-height-3"},E=t("div",{class:"flex flex-column gap-3 align-items-center"},[t("img",{class:"w-10rem h-10rem object-fit-cover border-circle",src:N,alt:"Lỗi ảnh"}),t("span",{class:"text-center line-height-2"}," Chúng tôi có thể vẻ mọi thứ bạn mong muốn! ")],-1),H=[E],L={key:0,class:"h-4rem"},R={style:{bottom:"1.8rem","z-index":"999"},class:"fixed left-0 right-0 px-3 bg-white pt-2"},F={style:{"max-width":"50rem"},class:"p-3 border-round-3xl box-shadow-1 flex bg-white m-auto flex-1"},G=["onKeypress"],O={style:{"padding-left":"0.7rem"},class:"border-left-1 text-400"},X={key:0,class:"pi pi-spin pi-spinner text-900"},J={__name:"BotImage",setup($){const x=k(),{onGetterMessages:e,onActionCreateImage:y}=B(),o=h(""),i=h(!1),c=()=>{setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},m=async()=>{if(i.value||e.value.length&&e.value[e.value.length-1].role==="user")return;e.value.push({role:"user",content:o.value,createdAt:I(new Date,!0)}),c();let d=o.value;o.value="",setTimeout(()=>{i.value=!0,c()},1e3);const n=await y({prompt:d});n.success?(e.value.push(n.data),K.emit("isNewData","Dữ liệu mới")):e.value=[],c(),i.value=!1};return C(async()=>{}),(d,n)=>{const b=v("ButtonBack"),p=v("UserChat");return s(),a("div",U,[M(b,{onOnBack:n[0]||(n[0]=r=>l(x).push({name:"Application"}))}),t("div",V,[t("div",{style:{"max-width":"52rem"},class:f([{"px-3":!l(_),"justify-content-center":!l(e).length},"flex flex-1 flex-column gap-3 m-auto w-full pt-3"])},[(s(!0),a(T,null,A(l(e),(r,w)=>(s(),g(p,{key:w,value:r},null,8,["value"]))),128)),i.value?(s(),g(p,{key:0,type:"IMAGE"})):u("",!0),l(e).length?u("",!0):(s(),a("div",z,H))],2),l(_)?u("",!0):(s(),a("div",L)),t("div",R,[t("div",F,[D(t("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>o.value=r),type:"text",class:"w-full border-none outline-none",placeholder:"Hãy mô tả bức tranh của bạn?",onKeypress:j(m,["enter"])},null,40,G),[[S,o.value]]),t("div",O,[i.value?(s(),a("i",X)):(s(),a("i",{key:1,class:f(["pi pi-angle-right text-900 on-click",{"p-disabled":!o.value}]),onClick:m},null,2))])])])])])}}};export{J as default};
