import{a as k,am as B,r as h,C,b as f,d as l,f as M,g as r,e as t,n as g,F as A,h as T,M as v,L as u,z as D,K as S,x as j,X as K,a1 as N,o as s,H as _}from"./index-04ea26bb.js";const U="/images/create-image-ai.jpg",V={class:"relative flex flex-column h-full"},z={class:"w-full flex flex-column h-full"},H={key:1,class:"flex justify-content-center align-items-center text-center line-height-3"},I=t("div",{class:"flex flex-column gap-3 align-items-center"},[t("img",{class:"w-10rem h-10rem object-fit-cover border-circle",src:U,alt:"Lỗi ảnh"}),t("span",{class:"text-center line-height-2"}," Chúng tôi có thể vẻ mọi thứ bạn mong muốn! ")],-1),L=[I],R={key:0,class:"h-4rem"},E={style:{bottom:"1.8rem","z-index":"999"},class:"fixed left-0 right-0 px-3 bg-white pt-2"},F={style:{"max-width":"50rem"},class:"p-3 border-round-3xl box-shadow-1 flex bg-white m-auto flex-1"},O=["onKeypress"],G={style:{"padding-left":"0.7rem"},class:"border-left-1 text-400"},X={key:0,class:"pi pi-spin pi-spinner text-900"},J={__name:"BotImage",setup($){const x=k(),{onGetterMessages:e,onActionCreateImage:y}=B(),a=h(""),c=h(!1),i=()=>{setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},d=async()=>{if(c.value||e.value.length&&e.value[e.value.length-1].role==="user")return;e.value.push({role:"user",content:a.value,createdAt:K(new Date,!0)}),i();let m=a.value;a.value="",setTimeout(()=>{c.value=!0,i()},1e3);const n=await y({prompt:m});n.success?(e.value.push(n.data),N.emit("isNewData","Dữ liệu mới")):e.value=[],i(),c.value=!1};return C(async()=>{}),(m,n)=>{const b=f("ButtonBack"),p=f("UserChat");return s(),l("div",V,[M(b,{onOnBack:n[0]||(n[0]=o=>r(x).push({name:"Application"}))}),t("div",z,[t("div",{style:{"max-width":"52rem"},class:g([{"px-3":!r(_),"justify-content-center":!r(e).length},"flex flex-1 flex-column gap-3 m-auto w-full pt-3"])},[(s(!0),l(A,null,T(r(e),(o,w)=>(s(),v(p,{key:w,name:o.role,content:o.content,role:o.role,createdAt:o.createdAt},null,8,["name","content","role","createdAt"]))),128)),c.value?(s(),v(p,{key:0,role:"assistant",content:[]})):u("",!0),r(e).length?u("",!0):(s(),l("div",H,L))],2),r(_)?u("",!0):(s(),l("div",R)),t("div",E,[t("div",F,[D(t("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>a.value=o),type:"text",class:"w-full border-none outline-none",placeholder:"Hãy mô tả bức tranh của bạn?",onKeypress:j(d,["enter"])},null,40,O),[[S,a.value]]),t("div",G,[c.value?(s(),l("i",X)):(s(),l("i",{key:1,class:g(["pi pi-angle-right text-900 on-click",{"p-disabled":!a.value}]),onClick:d},null,2))])])])])])}}};export{J as default};
