import{a as $,a9 as D,l as H,a8 as I,y as N,C as O,b as d,d as a,f as o,g as e,e as t,a2 as U,z as E,A as L,t as f,F as v,h as M,L as q,n as z,a3 as G,aa as j,o as i,H as J}from"./index-a738b128.js";import{c as K,a as g,u as P,b as Q,d as W,_ as X}from"./InputTextValidate-8b996ad1.js";const Y=t("div",{class:"flex flex-column gap-2 align-items-center"},[t("span",{class:"text-custom-1 flex"},"Cấu hình bot"),t("span",{style:{"max-width":"30rem"},class:"text-700 line-height-2 text-center"}," Bạn hãy cung cấp thông tin chuẩn xác để bot có thể học và trả lời tự nhiên và đúng nhất. ")],-1),Z=t("br",null,null,-1),tt={class:"w-full text-right"},et={class:"flex flex-column gap-3"},st={class:"flex flex-column gap-2"},nt=t("div",null,[G("Hướng dẫn cho trợ lý "),t("span",{class:"p-error"},"*")],-1),lt={class:"flex flex-column gap-2"},at={class:"flex align-items-center gap-2"},ot=t("span",null,"Thêm tệp tin",-1),it={style:{overflow:"hidden"},class:"relative"},ct=t("i",{class:"pi pi-plus-circle on-click text-800"},null,-1),rt={class:"flex flex-column gap-2"},ut={class:"card-bg-mini inline-flex align-items-center gap-1"},dt={class:"text-700"},mt=["onClick"],ht={key:0,class:"text-custom-mini text-700"},gt={__name:"VirtualAssistantConfig",setup(pt){const x=$(),{onGetterVirtualAssistant:b,onActionGetVirtualAssistant:m,onActionSaveVirtualAssistant:V}=D(),h=H({accountId:I.value,name:null,instructions:null,files:[]}),k=K({name:g().required("Vui lòng nhập tên trợ lý"),instructions:g().required("Vui lòng nhập hướng dẫn cho trợ lý")}),{values:c,resetForm:y,handleSubmit:w}=P({initialValues:h,validationSchema:k,keepValuesOnUnmount:!0}),{value:r,errorMessage:p}=Q("instructions"),{push:B,remove:C}=W("files"),A=async s=>{const n=await j(s.target.files[0]);B(n);const u=document.getElementById("inputFile");u.value="",setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},F=s=>{C(s)},S=w(async()=>{(await V(c)).success&&m(!0)});return N(b,s=>{y({values:Object.assign(h,s)})}),O(()=>{m()}),(s,n)=>{const u=d("ButtonBack"),T=d("Button"),R=d("Textarea");return i(),a(v,null,[o(u,{onOnBack:n[0]||(n[0]=l=>e(x).replace({name:"VirtualAssistant"}))}),t("div",{style:{"max-width":"52rem"},class:z(["m-auto pt-3",{"px-3":!e(J)}])},[Y,Z,t("div",tt,[o(T,{label:"Lưu cấu hình",onClick:e(S)},null,8,["onClick"])]),t("div",et,[o(X,{label:"Tên trợ lý",name:"name",class:"w-full"}),t("div",st,[nt,t("div",null,[o(R,{modelValue:e(r),"onUpdate:modelValue":n[1]||(n[1]=l=>U(r)?r.value=l:null),rows:"8",class:"w-full line-height-3",placeholder:"Hướng dẫn cho bot..."},null,8,["modelValue"]),E(t("small",{class:"p-error"},f(e(p)),513),[[L,e(p)]])])]),t("div",lt,[t("div",at,[ot,t("div",it,[ct,t("input",{type:"file",id:"inputFile",class:"absolute top-0 right-0 left-0 bottom-0 opacity-0 on-click",accept:".txt, .xlsx, csv",onChange:A},null,32)])]),t("div",rt,[(i(!0),a(v,null,M(e(c).files,(l,_)=>(i(),a("div",{key:_},[t("div",ut,[t("span",dt,f(l.name),1),t("i",{class:"pi pi-times-circle text-700",onClick:_t=>F(_)},null,8,mt)])]))),128)),e(c).files.length?q("",!0):(i(),a("div",ht," Chưa có tệp tin nào. "))])])])],2)],64)}}};export{gt as default};
