import{a as k,am as B,r as p,C as A,b as f,d as l,f as C,g as i,e as t,n as v,F as M,h as T,M as _,L as u,z as D,K as S,x as j,W as K,a0 as N,o as s,H as g}from"./index-3c6b6747.js";const U="/images/audio-ai.jpeg",V={class:"relative flex flex-column h-full"},z={class:"w-full flex flex-column h-full"},H={key:1,class:"flex justify-content-center align-items-center text-center line-height-3"},L=t("div",{class:"flex flex-column gap-3 align-items-center"},[t("img",{class:"w-10rem h-10rem object-fit-cover border-circle",src:U,alt:"Lỗi ảnh"}),t("span",{class:"text-center line-height-2"}," Có rất nhiều giọng đọc cho bạn lựa chọn! ")],-1),R=[L],E={key:0,class:"h-4rem"},F={style:{bottom:"1.8rem","z-index":"999"},class:"fixed left-0 right-0 px-3 bg-white pt-2"},O={style:{"max-width":"50rem"},class:"p-3 border-round-3xl box-shadow-1 flex bg-white m-auto flex-1"},G=["onKeypress"],W={style:{"padding-left":"0.7rem"},class:"border-left-1 text-400"},$={key:0,class:"pi pi-spin pi-spinner text-900"},J={__name:"BotAudio",setup(q){const x=k(),{onGetterMessages:e,onActionCreateAudio:y}=B(),a=p(""),r=p(!1),c=()=>{setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},d=async()=>{if(r.value||e.value.length&&e.value[e.value.length-1].role==="user")return;e.value.push({role:"user",content:a.value,createdAt:K(new Date,!0)}),c();let h=a.value;a.value="",setTimeout(()=>{r.value=!0,c()},1e3);const o=await y({input:h});o.success?(e.value.push(o.data),N.emit("isNewData","Dữ liệu mới")):e.value=[],c(),r.value=!1};return A(async()=>{}),(h,o)=>{const b=f("ButtonBack"),m=f("UserChat");return s(),l("div",V,[C(b,{onOnBack:o[0]||(o[0]=n=>i(x).push({name:"Application"}))}),t("div",z,[t("div",{style:{"max-width":"52rem"},class:v([{"px-3":!i(g),"justify-content-center":!i(e).length},"flex flex-1 flex-column gap-3 m-auto w-full pt-3"])},[(s(!0),l(M,null,T(i(e),(n,w)=>(s(),_(m,{key:w,name:n.role,content:n.content,role:n.role,createdAt:n.createdAt},null,8,["name","content","role","createdAt"]))),128)),r.value?(s(),_(m,{key:0,role:"assistant"})):u("",!0),i(e).length?u("",!0):(s(),l("div",H,R))],2),i(g)?u("",!0):(s(),l("div",E)),t("div",F,[t("div",O,[D(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>a.value=n),type:"text",class:"w-full border-none outline-none",placeholder:"Hãy mô tả bức tranh của bạn?",onKeypress:j(d,["enter"])},null,40,G),[[S,a.value]]),t("div",W,[r.value?(s(),l("i",$)):(s(),l("i",{key:1,class:v(["pi pi-angle-right text-900 on-click",{"p-disabled":!a.value}]),onClick:d},null,2))])])])])])}}};export{J as default};
