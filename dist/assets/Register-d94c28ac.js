import{a as _,S as k,l as g,A as v,B as y,C as b,b as x,d as V,e as p,f as s,v as l,g as t,F as C,o as K,T as A}from"./index-72e06559.js";import{c as B,a as r,u as R,_ as c}from"./InputTextValidate-7e952305.js";const S={class:"h-screen flex flex-column justify-content-center align-items-center"},E={class:"w-20rem flex flex-column gap-3"},N={__name:"Register",setup(F){const i=_(),{onGetterAuthentication:a,onActionRegisterAccount:m}=k(),h=g({otp:a.value.otp,email:a.value.email,password:"",passwordConfirm:""}),d=B({email:r().test("email","Email của bạn không hợp lệ",e=>v(e)).required("Vui lòng nhập email của bạn"),password:r().test("password","Phải có ít nhất 6 ký tự, gồm số và ký tự đặc biệt",e=>y(e)).required("Vui lòng nhập mật khẩu"),passwordConfirm:r().when("password",(e,u,{value:o})=>u.test("","Mật khẩu xác nhận không khớp",()=>e[0]===o)).required("Vui lòng nhập mật khẩu xác nhận")}),{values:f,handleSubmit:w}=R({initialValues:h,validationSchema:d,keepValuesOnUnmount:!0}),n=w(async()=>{(await m(f)).success&&i.replace({name:"Home"})});return b(()=>{(!a.value.otp||!a.value.email)&&i.push({name:"OtpAuthentication"})}),(e,u)=>{const o=x("Button");return K(),V(C,null,[p("div",S,[p("div",E,[s(c,{name:"email",class:"w-full",placeholder:"Nhập email của bạn",disabled:!0,onKeypress:l(t(n),["enter"])},null,8,["onKeypress"]),s(c,{name:"password",type:"password",class:"w-full",placeholder:"Mật khẩu",onKeypress:l(t(n),["enter"])},null,8,["onKeypress"]),s(c,{name:"passwordConfirm",type:"password",class:"w-full",placeholder:"Mật khẩu xác nhận",onKeypress:l(t(n),["enter"])},null,8,["onKeypress"]),s(o,{label:"Đăng ký",onClick:t(n)},null,8,["onClick"])])]),s(A)],64)}}};export{N as default};
