import{a as k,ao as B,r as m,C,b as v,d as l,f as M,g as a,e as t,n as f,F as A,h as T,M as _,L as u,y as D,K as N,v as S,X as j,a1 as K,o as s,H as g}from"./index-72e06559.js";const U="/images/audio-ai.jpeg",V={class:"relative flex flex-column h-full"},L={class:"w-full flex flex-column h-full"},R={key:1,class:"flex justify-content-center align-items-center text-center line-height-3"},z=t("div",{class:"flex flex-column gap-3 align-items-center"},[t("img",{class:"w-10rem h-10rem object-fit-cover border-circle",src:U,alt:"Lỗi ảnh"}),t("span",{class:"text-center line-height-2"}," Có rất nhiều giọng đọc cho bạn lựa chọn! ")],-1),E=[z],F={key:0,class:"h-4rem"},H={style:{bottom:"1.8rem","z-index":"999"},class:"fixed left-0 right-0 px-3 bg-white pt-2"},O={style:{"max-width":"50rem"},class:"p-3 border-round-3xl box-shadow-1 flex bg-white m-auto flex-1"},G=["onKeypress"],X={style:{"padding-left":"0.7rem"},class:"border-left-1 text-400"},$={key:0,class:"pi pi-spin pi-spinner text-900"},J={__name:"BotAudio",setup(q){const x=k(),{onGetterMessages:e,onActionCreateAudio:y}=B(),n=m(""),i=m(!1),r=()=>{setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},d=async()=>{if(i.value||e.value.length&&e.value[e.value.length-1].role==="user")return;e.value.push({role:"user",content:n.value,createdAt:j(new Date,!0)}),r();let h=n.value;n.value="",setTimeout(()=>{i.value=!0,r()},1e3);const o=await y({input:h});o.success?(e.value.push(o.data),K.emit("isNewData","Dữ liệu mới")):e.value=[],r(),i.value=!1};return C(async()=>{}),(h,o)=>{const w=v("ButtonBack"),p=v("UserChat");return s(),l("div",V,[M(w,{onOnBack:o[0]||(o[0]=c=>a(x).push({name:"Application"}))}),t("div",L,[t("div",{style:{"max-width":"52rem"},class:f([{"px-3":!a(g),"justify-content-center":!a(e).length},"flex flex-1 flex-column gap-3 m-auto w-full pt-3"])},[(s(!0),l(A,null,T(a(e),(c,b)=>(s(),_(p,{key:b,value:c},null,8,["value"]))),128)),i.value?(s(),_(p,{key:0})):u("",!0),a(e).length?u("",!0):(s(),l("div",R,E))],2),a(g)?u("",!0):(s(),l("div",F)),t("div",H,[t("div",O,[D(t("input",{"onUpdate:modelValue":o[1]||(o[1]=c=>n.value=c),type:"text",class:"w-full border-none outline-none",placeholder:"Nhập văn bản cần chuyển đổi?",onKeypress:S(d,["enter"])},null,40,G),[[N,n.value]]),t("div",X,[i.value?(s(),l("i",$)):(s(),l("i",{key:1,class:f(["pi pi-angle-right text-900 on-click",{"p-disabled":!n.value}]),onClick:d},null,2))])])])])])}}};export{J as default};
