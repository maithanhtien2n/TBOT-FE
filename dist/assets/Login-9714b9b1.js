import{a as b,S as w,l as y,m as T,q as V,s as m,v as D,b as S,d as A,e as a,f as n,x as d,g as o,F as B,o as E,T as K}from"./index-02298414.js";import{c as C,a as h,u as F,_ as f}from"./InputTextValidate-0a11629b.js";const $={class:"h-screen flex flex-column justify-content-center align-items-center"},q={class:"w-20rem flex flex-column gap-3"},L=a("div",{class:"flex gap-3 align-items-center"},[a("span",{class:"flex-1 border-top-1 text-300"}),a("span",{class:"text-700"},"hoặc"),a("span",{class:"flex-1 border-top-1 text-300"})],-1),U={__name:"Login",setup(O){const i=b(),{onActionLoginAccount:_}=w(),k=y({email:"",password:""}),g=C({email:h().test("email","Email của bạn không hợp lệ",e=>T(e)).required("Vui lòng nhập email của bạn"),password:h().required("Vui lòng nhập mật khẩu")}),{values:x,handleSubmit:v}=F({initialValues:k,validationSchema:g,keepValuesOnUnmount:!0}),l=v(async()=>{var s,t,c,r,u,p;const e=await _(x);e.success&&(i.back(),V((s=e==null?void 0:e.data)==null?void 0:s.accessToken,(r=(c=(t=e==null?void 0:e.data)==null?void 0:t.userData)==null?void 0:c.account)==null?void 0:r._id),m.value.userData=D((u=e==null?void 0:e.data)==null?void 0:u.userData),m.value.accessToken=(p=e==null?void 0:e.data)==null?void 0:p.accessToken)});return(e,s)=>{const t=S("Button");return E(),A(B,null,[a("div",$,[a("div",q,[n(f,{name:"email",class:"w-full",placeholder:"Tên tài khoản",onKeypress:d(o(l),["enter"])},null,8,["onKeypress"]),n(f,{name:"password",type:"password",class:"w-full",placeholder:"Mật khẩu",onKeypress:d(o(l),["enter"])},null,8,["onKeypress"]),n(t,{label:"Đăng nhập",onClick:o(l)},null,8,["onClick"]),L,n(t,{label:"Tạo tài khoản",class:"w-full",outlined:"",onClick:s[0]||(s[0]=c=>o(i).replace({name:"OtpAuthentication"}))})])]),n(K)],64)}}};export{U as default};
