import{a as k,ao as B,r as m,C as A,b as f,d as a,f as C,g as i,e as t,n as v,F as M,h as T,M as _,L as u,z as D,K as N,x as S,X as j,a1 as K,o as s,H as g}from"./index-7b649873.js";const U="/images/audio-ai.jpeg",V={class:"relative flex flex-column h-full"},z={class:"w-full flex flex-column h-full"},L={key:1,class:"flex justify-content-center align-items-center text-center line-height-3"},R=t("div",{class:"flex flex-column gap-3 align-items-center"},[t("img",{class:"w-10rem h-10rem object-fit-cover border-circle",src:U,alt:"Lỗi ảnh"}),t("span",{class:"text-center line-height-2"}," Có rất nhiều giọng đọc cho bạn lựa chọn! ")],-1),E=[R],F={key:0,class:"h-4rem"},H={style:{bottom:"1.8rem","z-index":"999"},class:"fixed left-0 right-0 px-3 bg-white pt-2"},O={style:{"max-width":"50rem"},class:"p-3 border-round-3xl box-shadow-1 flex bg-white m-auto flex-1"},G=["onKeypress"],X={style:{"padding-left":"0.7rem"},class:"border-left-1 text-400"},$={key:0,class:"pi pi-spin pi-spinner text-900"},J={__name:"BotAudio",setup(q){const x=k(),{onGetterMessages:e,onActionCreateAudio:y}=B(),l=m(""),r=m(!1),c=()=>{setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},1)},d=async()=>{if(r.value||e.value.length&&e.value[e.value.length-1].role==="user")return;e.value.push({role:"user",content:l.value,createdAt:j(new Date,!0)}),c();let h=l.value;l.value="",setTimeout(()=>{r.value=!0,c()},1e3);const n=await y({input:h});n.success?(e.value.push(n.data),K.emit("isNewData","Dữ liệu mới")):e.value=[],c(),r.value=!1};return A(async()=>{}),(h,n)=>{const w=f("ButtonBack"),p=f("UserChat");return s(),a("div",V,[C(w,{onOnBack:n[0]||(n[0]=o=>i(x).push({name:"Application"}))}),t("div",z,[t("div",{style:{"max-width":"52rem"},class:v([{"px-3":!i(g),"justify-content-center":!i(e).length},"flex flex-1 flex-column gap-3 m-auto w-full pt-3"])},[(s(!0),a(M,null,T(i(e),(o,b)=>(s(),_(p,{key:b,name:o.role,content:o.content,role:o.role,createdAt:o.createdAt},null,8,["name","content","role","createdAt"]))),128)),r.value?(s(),_(p,{key:0,role:"assistant"})):u("",!0),i(e).length?u("",!0):(s(),a("div",L,E))],2),i(g)?u("",!0):(s(),a("div",F)),t("div",H,[t("div",O,[D(t("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>l.value=o),type:"text",class:"w-full border-none outline-none",placeholder:"Nhập văn bản cần chuyển đổi?",onKeypress:S(d,["enter"])},null,40,G),[[N,l.value]]),t("div",X,[r.value?(s(),a("i",$)):(s(),a("i",{key:1,class:v(["pi pi-angle-right text-900 on-click",{"p-disabled":!l.value}]),onClick:d},null,2))])])])])])}}};export{J as default};
