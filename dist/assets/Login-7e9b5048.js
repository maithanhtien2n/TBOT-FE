import{a as w,S as b,l as y,m as T,q as m,s as D,b as S,d as V,e as a,f as n,v as d,g as o,F as A,o as B,T as K}from"./index-72e06559.js";import{c as C,a as f,u as F,_ as h}from"./InputTextValidate-7e952305.js";const $={class:"h-screen flex flex-column justify-content-center align-items-center"},q={class:"w-20rem flex flex-column gap-3"},E=a("div",{class:"flex gap-3 align-items-center"},[a("span",{class:"flex-1 border-top-1 text-300"}),a("span",{class:"text-700"},"hoặc"),a("span",{class:"flex-1 border-top-1 text-300"})],-1),N={__name:"Login",setup(L){const r=w(),{onActionLoginAccount:_}=b(),k=y({email:"",password:""}),g=C({email:f().required("Vui lòng nhập email của bạn"),password:f().required("Vui lòng nhập mật khẩu")}),{values:x,handleSubmit:v}=F({initialValues:k,validationSchema:g,keepValuesOnUnmount:!0}),l=v(async()=>{var s,t,c,i,u,p;const e=await _(x);e.success&&(r.back(),T((s=e==null?void 0:e.data)==null?void 0:s.accessToken,(i=(c=(t=e==null?void 0:e.data)==null?void 0:t.userData)==null?void 0:c.account)==null?void 0:i._id),m.value.userData=D((u=e==null?void 0:e.data)==null?void 0:u.userData),m.value.accessToken=(p=e==null?void 0:e.data)==null?void 0:p.accessToken)});return(e,s)=>{const t=S("Button");return B(),V(A,null,[a("div",$,[a("div",q,[n(h,{name:"email",class:"w-full",placeholder:"Tên tài khoản",onKeypress:d(o(l),["enter"])},null,8,["onKeypress"]),n(h,{name:"password",type:"password",class:"w-full",placeholder:"Mật khẩu",onKeypress:d(o(l),["enter"])},null,8,["onKeypress"]),n(t,{label:"Đăng nhập",onClick:o(l)},null,8,["onClick"]),E,n(t,{label:"Tạo tài khoản",class:"w-full",outlined:"",onClick:s[0]||(s[0]=c=>o(r).replace({name:"OtpAuthentication"}))})])]),n(K)],64)}}};export{N as default};
